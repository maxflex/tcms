{"version":3,"sources":["app.coffee","search.coffee","controllers/_template.coffee","controllers/equipment.coffee","controllers/faq.coffee","controllers/gallery.coffee","controllers/login.coffee","controllers/logs.coffee","controllers/masters.coffee","controllers/pages.coffee","controllers/payments.coffee","controllers/prices.coffee","controllers/reviews.coffee","controllers/search.coffee","controllers/tags.coffee","controllers/users.coffee","controllers/variables.coffee","controllers/videos.coffee","factory/factory.coffee","resources/resources.coffee","directives/bs-select.coffee","directives/comments.coffee","directives/counter.coffee","directives/digits-only.coffee","directives/editable.coffee","directives/email.coffee","directives/input-comment.coffee","directives/jump-on-tab.coffee","directives/multi-select.coffee","directives/ngphone.coffee","directives/order-by.coffee","directives/pencil-input.coffee","directives/phones.coffee","directives/plural.coffee","directives/plus.coffee","directives/price-item.coffee","directives/search.coffee","directives/select-new.coffee","directives/select.coffee","directives/sms.coffee","directives/tutor-photo.coffee","directives/user-switch.coffee","directives/user.coffee","service/ace.coffee","service/crud.coffee","service/export.coffee","service/factory.coffee","service/folder.coffee","service/photo.coffee","service/user.coffee"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["angular.module(\"Egecms\", ['ngSanitize', 'ngResource', 'ngAnimate', 'ui.bootstrap', 'angular-ladda', 'angularFileUpload', 'angucomplete-alt', 'ngDrag', 'ngAnimate', 'thatisuday.ng-image-gallery', 'ng-sortable', 'uiCropper', 'ngTagsInput', 'ui.sortable'])\n    .config [\n        '$compileProvider'\n        ($compileProvider) ->\n            $compileProvider.aHrefSanitizationWhitelist /^\\s*(https?|ftp|mailto|chrome-extension|sip):/\n\t]\n    .filter 'cut', ->\n      (value, wordwise, max, nothing = '', tail) ->\n        if !value\n          return nothing\n        max = parseInt(max, 10)\n        if !max\n          return value\n        if value.length <= max\n          return value\n        value = value.substr(0, max)\n        if wordwise\n          lastspace = value.lastIndexOf(' ')\n          if lastspace != -1\n            #Also remove . and , so its gives a cleaner result.\n            if value.charAt(lastspace - 1) == '.' or value.charAt(lastspace - 1) == ','\n              lastspace = lastspace - 1\n            value = value.substr(0, lastspace)\n        value + (tail or '…')\n    .filter 'hideZero', ->\n        (item) ->\n            if item > 0 then item else null\n    .directive 'convertToNumber', ->\n        {\n            require: 'ngModel'\n            link: (scope, element, attrs, ngModel) ->\n                ngModel.$parsers.push (val) ->\n                    parseInt(val,10)\n                ngModel.$formatters.push (val) ->\n                    if val or val is 0 then '' + val else ''\n        }\n    .run ($rootScope, $q) ->\n        # отвечает за загрузку данных\n        $rootScope.dataLoaded = $q.defer()\n        # конец анимации front-end загрузки и rebind маск\n        $rootScope.frontendStop = (rebind_masks = true) ->\n            $rootScope.frontend_loading = false\n            $rootScope.dataLoaded.resolve(true)\n            rebindMasks() if rebind_masks\n\n        $rootScope.range = (min, max, step) ->\n          step = step or 1\n          input = []\n          i = min\n          while i <= max\n            input.push i\n            i += step\n          input\n\n          # skip_values – какие значения в enum пропускать\n          # allowed_user_ids – пользователи, которым разрешено выбирать значения\n          # recursion – функция была запущена рекурсивно (внизу)\n        $rootScope.toggleEnum = (ngModel, status, ngEnum, skip_values = [], allowed_user_ids = [], recursion = false) ->\n            # если установлено значение, которое пропускается для обычных пользователей,\n            # то запрещать его смену\n            return if not recursion and parseInt(ngModel[status]) in skip_values and $rootScope.$$childHead.user.id not in allowed_user_ids\n\n            statuses = Object.keys(ngEnum)\n            status_id = statuses.indexOf ngModel[status].toString()\n            status_id++\n            status_id = 0 if status_id > (statuses.length - 1)\n            ngModel[status] = statuses[status_id]\n            # if in skip_values\n            $rootScope.toggleEnum(ngModel, status, ngEnum, skip_values, allowed_user_ids, true) if status_id in skip_values and $rootScope.$$childHead.user.id not in allowed_user_ids\n\n        # обновить + ждать ответа от сервера\n        $rootScope.toggleEnumServer = (ngModel, status, ngEnum, Resource) ->\n            statuses = Object.keys(ngEnum)\n            status_id = statuses.indexOf ngModel[status].toString()\n            status_id++\n            status_id = 0 if status_id > (statuses.length - 1)\n\n            update_data = {id: ngModel.id}\n            update_data[status] = status_id\n\n            Resource.update update_data, ->\n                ngModel[status] = statuses[status_id]\n\n        $rootScope.formatDateTime = (date) ->\n            moment(date).format \"DD.MM.YY в HH:mm\"\n\n        $rootScope.formatDate = (date, full_year = false) ->\n            return '' if not date\n            moment(date).format \"DD.MM.YY\" + (if full_year then \"YY\" else \"\")\n\n        $rootScope.dialog = (id) ->\n            $(\"##{id}\").modal 'show'\n            return\n\n        $rootScope.closeDialog = (id) ->\n            $(\"##{id}\").modal 'hide'\n            return\n\n        $rootScope.ajaxStart = ->\n            ajaxStart()\n            $rootScope.saving = true\n\n        $rootScope.ajaxEnd = ->\n            ajaxEnd()\n            $rootScope.saving = false\n\n        $rootScope.findById = (object, id) ->\n            _.findWhere(object, {id: parseInt(id)})\n\n        # prop2 – второй уровень вложенности\n        $rootScope.total = (array, prop, prop2 = false) ->\n            sum = 0\n            $.each array, (index, value) ->\n                v = value[prop]\n                v = v[prop2] if prop2\n                sum += v\n            sum\n\n        $rootScope.deny = (ngModel, prop) ->\n            ngModel[prop] = +(!ngModel[prop])\n\n        $rootScope.formatBytes = (bytes) ->\n          if bytes < 1024\n            bytes + ' Bytes'\n          else if bytes < 1048576\n            (bytes / 1024).toFixed(1) + ' KB'\n          else if bytes < 1073741824\n            (bytes / 1048576).toFixed(1) + ' MB'\n          else\n            (bytes / 1073741824).toFixed(1) + ' GB'\n","Vue.config.devtools = true\n$(document).ready ->\n    # вешеаем событие по клику по кнопке\n    $('#searchModalOpen').click ->\n        $('#searchModal').modal({keyboard: true})\n        delayFunction = ->\n            $('#searchQueryInput').focus()\n        setTimeout delayFunction, 500\n        $($('body.modal-open .row')[0]).addClass('blur')\n        false\n    $('#searchModal')\n        .on 'hidden.bs.modal', ->\n            delayFnc = ->\n                $('.blur')\n                    .removeClass 'blur'\n            setTimeout delayFnc, 500\n\n    # компонент поиска\n    viewVue = new Vue\n        el: '#searchModal'\n        data:\n            lists: []\n            links: {}\n            results: -1\n            active: 0\n            query: ''\n            oldquery: ''\n            all: 0\n            loading: false\n        methods:\n            loadData:    _.debounce ->\n                this.$http.post 'api/search', {query: this.query}\n                    .then (success) =>\n                        this.loading = false\n                        this.active = 0\n                        this.all = 0\n                        this.lists = []\n                        if success.body.results > 0\n                            this.results = success.body.results\n                            if success.body.variables.length > 0\n                                for item, i in success.body.variables\n                                    console.log(item)\n                                    item.type = 'variable'\n                                    this.all++\n                                    this.links[this.all] = 'variables/' + item.id + '/edit'\n                                    item.link = this.links[this.all]\n                                    this.lists.push(item)\n                            if success.body.pages.length > 0\n                                for item, i in success.body.pages\n                                    item.type = 'page'\n                                    this.all++\n                                    this.links[this.all] = 'pages/' + item.id + '/edit'\n                                    item.link = this.links[this.all]\n                                    this.lists.push(item)\n                        else\n                          this.active = 0\n                          this.all = 0\n                          this.lists = []\n                          this.results = 0\n                    , (error) =>\n                        this.active = 0\n                        this.all = 0\n                        this.lists = []\n                        this.results = 0\n            , 150\n\n            # метод скролит по необходимости до нужной части результата поиска\n            scroll: ->\n                $('#searchResult').scrollTop((this.active - 4) * 30)\n\n            getStateClass: (state) ->\n                obj = {}\n                obj[\"tutor-state-#{state}\"] = true\n                obj\n\n            # обработка события набора текста\n            keyup: (e) ->\n                if e.code == 'ArrowUp'\n                    e.preventDefault();\n                    if this.active > 0\n                        this.active--\n                    this.scroll()\n                else if e.code == 'ArrowDown'\n                    e.preventDefault();\n                    if this.active < this.results\n                        this.active++\n                    if this.active > 4\n                        this.scroll()\n                else if e.code == 'Enter' and this.active > 0\n                    url = this.links[this.active]\n                    window.location = url\n                else\n                    if this.query isnt ''\n                        if this.oldquery != this.query and this.query.length > 2\n                            # this.loading = true\n                            this.loadData()\n                        this.oldquery = this.query\n                    else\n                        this.active = 0\n                        this.all = 0\n                        this.lists = []\n                        this.results = -1\n                    #console.log this.lists\n                null","# angular\n#     .module 'Egecms'\n#     .controller 'VariablesIndex', ($scope, $attrs, IndexService, Variable) ->\n#         bindArguments($scope, arguments)\n#         angular.element(document).ready ->\n#             IndexService.init(Variable, $scope.current_page, $attrs)\n#     .controller 'VariablesForm', ($scope, $attrs, $timeout, FormService, Variable) ->\n#         bindArguments($scope, arguments)\n#         angular.element(document).ready ->\n#             FormService.init(Variable, $scope.id, $scope.model)\n","angular\n    .module 'Egecms'\n    .controller 'EquipmentIndex', ($scope, $attrs, $timeout, IndexService, Equipment, FolderService) ->\n        bindArguments($scope, arguments)\n        angular.element(document).ready ->\n            IndexService.init(Equipment, $scope.current_page, $attrs, {folder: $scope.folder})\n            FolderService.init($scope.template.class, $scope.folder, IndexService, Equipment)\n    .controller 'EquipmentForm', ($scope, $attrs, $timeout, FormService, Equipment, PhotoService, FolderService, Tag) ->\n        bindArguments($scope, arguments)\n        \n        $scope.loadTags = (text) ->\n            Tag.autocomplete({text: text}).$promise\n\n        angular.element(document).ready ->\n            FolderService.init($scope.template.class)\n            FormService.init(Equipment, $scope.id, $scope.model)\n            FormService.model.folder_id = $.cookie('equipment_folder_id') if not FormService.model.id && $.cookie('equipment_folder_id')\n            PhotoService.init(FormService, 'Equipment', $scope.id)\n            $scope.align_preview = 'right'\n            $('#color-picker').colorpicker\n                hexNumberSignPrefix: false\n\n        $scope.getContrast = ->\n            c = hexToDec(FormService.model.color)\n            if (c.r * 0.299 + c.g * 0.587 + c.b * 0.114) > 186\n                'white'\n            else\n                'black'\n\n        hexToDec = (hex) ->\n            result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex)\n            if result\n                r: parseInt(result[1], 16)\n                g: parseInt(result[2], 16)\n                b: parseInt(result[3], 16)\n            else\n                null\n","angular\n    .module 'Egecms'\n    .controller 'FaqIndex', ($scope, $rootScope, $attrs, $timeout, Faq, FaqGroup) ->\n        l = (e) -> console.log e\n\n        angular.element(document).ready ->\n            $(document).scroll (event) ->\n                if $(document).scrollTop() + $(window).height() is $(document).height()\n                    $(document).scrollTop($(document).height() - 50)\n                    l 'scrolled back'\n\n        $scope.$watchCollection 'dnd', (newVal) ->\n            l $scope.dnd\n\n        bindArguments($scope, arguments)\n\n        updatePositions = (group_ids) ->\n            group_ids = [group_ids] if not _.isArray group_ids\n            angular.forEach group_ids, (group_id) ->\n                group = $rootScope.findById $scope.groups, group_id\n                angular.forEach group.faq, (faq, index) ->\n                    Faq.update({id: faq.id, position: index})\n\n        dragEnd = ->\n            $scope.dnd = {}\n\n        $scope.sortableFaqConf =\n            animation:  150\n            group:\n                name:   'variable'\n                put:    'variable'\n            fallbackTolerance: 5\n\n            onUpdate: (event) ->\n                updatePositions $scope.dnd.group_id\n\n            onAdd: (event) ->\n                faq_id = $scope.dnd.faq_id\n                if $scope.dnd.group_id and $scope.dnd.faq_id and ($scope.dnd.group_id isnt $scope.dnd.old_group_id)\n                   if $scope.dnd.group_id is -1\n                       FaqGroup.save {faq_id: $scope.dnd.faq_id}, (response) ->\n                           $scope.groups.push(response)\n                           moveToGroup $scope.dnd.faq_id, response.id, $scope.dnd.old_group_id, true\n                           dragEnd()\n                   else if $scope.dnd.group_id\n                       moveToGroup $scope.dnd.faq_id, $scope.dnd.group_id, $scope.dnd.old_group_id\n                       updatePositions [$scope.dnd.group_id, $scope.dnd.old_group_id]\n\n            onEnd: (event) ->\n                dragEnd() if $scope.dnd.group_id isnt -1\n\n        $scope.dragOver = (group) ->\n            $scope.dnd.group_id = group.id if $scope.dnd.type isnt 'group'\n\n        $scope.sortableGroupConf =\n            animation: 150\n            handle: '.group-title'\n            dragClass: 'dragging-group'\n            onUpdate: (event) ->\n                angular.forEach $scope.groups, (group, index) ->\n                    group.position = index\n                    FaqGroup.update({id: group.id, position: index})\n\n            onStart: (event) ->\n                $scope.dnd.type = 'group'\n\n            onEnd: (event) ->\n                $scope.dnd = {}\n\n        $scope.dnd = {}\n\n        # переместить в группу\n        moveToGroup = (faq_id, group_id, old_group_id, copy_item = false) ->\n            Faq.update id: faq_id, group_id: group_id\n\n            group_from = _.find $scope.groups, id: old_group_id\n            faq = _.clone findById(group_from.faq, faq_id)\n            faq.group_id = group_id\n\n            group_from.faq = removeById(group_from.faq, faq_id)\n            group_to = _.find $scope.groups, id: group_id\n\n            if copy_item\n                group_to.faq.push faq\n            else\n                faq = $rootScope.findById(group_to.faq, faq_id)\n                faq.group_id = group_id\n\n        $scope.removeGroup = (group) ->\n            bootbox.confirm \"Вы уверены, что хотите удалить группу «#{group.title}»\", (response) ->\n                if response is true\n                    FaqGroup.remove {id: group.id}\n                    new_group_id = (_.max _.without($scope.groups, group), (group) -> group.position).id\n\n                    if group.faq\n                        angular.forEach group.faq, (faq) ->\n                            moveToGroup faq.id, new_group_id, faq.group_id, true\n                        updatePositions new_group_id\n\n                    $scope.groups = removeById $scope.groups, group.id\n\n        $scope.onEdit = (id, event) ->\n            FaqGroup.update {id: id, title: $(event.target).text()}\n\n    .controller 'FaqForm', ($scope, $attrs, $timeout, FormService, AceService, Faq) ->\n        bindArguments($scope, arguments)\n        angular.element(document).ready ->\n            FormService.init(Faq, $scope.id, $scope.model)\n","angular\n    .module 'Egecms'\n    .controller 'GalleryIndex', ($scope, $attrs, $timeout, $http, IndexService, Gallery, FolderService) ->\n        bindArguments($scope, arguments)\n        angular.element(document).ready ->\n            IndexService.init(Gallery, $scope.current_page, $attrs, {folder: $scope.folder})\n            FolderService.init($scope.template.class, $scope.folder, IndexService, Gallery)\n\n        clearChangePrice = ->\n            $scope.change_price =\n                type: '1'\n                unit: '1'\n                value: null\n                folder_id: FolderService.current_folder_id\n            $timeout -> $('.selectpicker').selectpicker('refresh')\n\n        $scope.changePriceDialog = ->\n            clearChangePrice()\n            $scope.changePrice(true) if not $scope.rows_affected\n            $('#change-price-modal').modal('show')\n\n        $scope.changePrice = (get_rows_affected = false)->\n            ajaxStart()\n            $scope.changing_price = true\n            $scope.change_price.get_rows_affected = get_rows_affected\n            $http.post 'api/galleries/change', $scope.change_price\n            .then (response) ->\n                ajaxEnd()\n                $scope.changing_price = false\n                if get_rows_affected\n                    $scope.rows_affected = response.data\n                else\n                    $('#change-price-modal').modal('hide')\n                    notifySuccess($scope.rows_affected + ' обновлено')\n\n    .controller 'GalleryForm', ($scope, $attrs, $timeout, FormService, Gallery, PhotoService, Tag, FolderService) ->\n        bindArguments($scope, arguments)\n\n        $scope.version = makeId()\n\n        angular.element(document).ready ->\n            FolderService.init($scope.template.class)\n            FormService.init(Gallery, $scope.id, $scope.model)\n            FormService.model.folder_id = $.cookie('gallery_folder_id') if not FormService.model.id && $.cookie('gallery_folder_id')\n            # PhotoService.afterSave = $scope.edit\n            PhotoService.init(FormService, 'Gallery', $scope.id)\n\n        $scope.preview = ->\n            window.open(\"/img/gallery/#{FormService.model.id}.jpg?v=\" + makeId(), '_blank')\n\n        $scope.edit = ->\n            FormService.edit ->\n                $scope.version = makeId()\n\n        $scope.editOrUpload = (photo_number) ->\n            if photo_number > FormService.model.photos.length\n                $('#fileupload').click()\n            else\n                PhotoService.edit(parseInt(photo_number) - 1)\n\n        $scope.loadTags = (text) ->\n            Tag.autocomplete({text: text}).$promise\n\n        $scope.getTotalPrice = ->\n            total_price = 0\n            [1, 2, 3, 4, 5, 6].forEach (i) ->\n                price = parseInt(FormService.model[\"price_#{i}\"])\n                total_price += price if price\n            total_price\n\n        $scope.$watch 'FormService.model.count', (newVal, oldVal) ->\n            $scope.size = {w: 2200, h:1100}\n            $scope.size.w = $scope.size.w / newVal\n            $scope.ratio = $scope.size.w / $scope.size.h\n            $('#fileupload').bind 'fileuploadsubmit', (e, data) =>\n                data.formData =\n                    id: FormService.model.id\n                    type: 'Gallery'\n                    count: FormService.model.count\n","angular\n    .module 'Egecms'\n    .controller 'LoginCtrl', ($scope, $http) ->\n\n        loadImage = ->\n            $scope.image_loaded = false\n            img = new Image\n            img.addEventListener \"load\", ->\n                $('body').css({'background-image': \"url(#{$scope.wallpaper.image_url})\"})\n                $scope.image_loaded = true\n                $scope.$apply()\n                setTimeout ->\n                    $('#center').removeClass('animated').removeClass('fadeIn').removeAttr('style')\n                , 2000\n            img.src = $scope.wallpaper.image_url\n\n        angular.element(document).ready ->\n            loadImage()\n            $('input[autocomplete=\"off\"]').each ->\n                input = this\n                id = $(input).attr('id')\n                $(input).removeAttr('id')\n                setTimeout ->\n                    $(input).attr('id', id)\n                , 2000\n            $scope.l = Ladda.create(document.querySelector('#login-submit'))\n            login_data = $.cookie(\"login_data\")\n            if login_data isnt undefined\n                login_data = JSON.parse(login_data)\n                $scope.login = login_data.login\n                $scope.password = login_data.password\n                $scope.sms_verification = true\n                $scope.$apply()\n\n        #обработка события по enter в форме логина\n        $scope.enter = ($event) ->\n            if $event.keyCode == 13\n                $scope.checkFields()\n\n        $scope.goLogin = ->\n            return if $scope.preview\n            # $('center').removeClass('invalid')\n            $http.post 'login',\n                login: $scope.login\n                password: $scope.password\n                code: $scope.code\n                captcha: grecaptcha.getResponse()\n            .then (response) ->\n                grecaptcha.reset()\n                if response.data is true\n                    $.removeCookie('login_data')\n                    location.reload()\n                else if response.data is 'sms'\n                    $scope.in_process = false\n                    $scope.l.stop()\n                    $scope.sms_verification = true\n                    $.cookie(\"login_data\", JSON.stringify({login: $scope.login, password: $scope.password}), { expires: 1 / (24 * 60) * 2, path: '/' })\n                else\n                    $scope.in_process = false\n                    $scope.l.stop()\n                    $scope.error = \"Неправильная пара логин-пароль\"\n                    # $('center').addClass('invalid')\n                $scope.$apply()\n\n        $scope.checkFields = ->\n            return if $scope.preview\n            $scope.l.start()\n            $scope.in_process = true\n            # $scope.goLogin()\n            if grecaptcha.getResponse() is '' then grecaptcha.execute() else $scope.goLogin()\n","angular\n    .module 'Egecms'\n    .controller 'LogsIndex', ($rootScope, $scope, $timeout, $http, LogTypes) ->\n        bindArguments($scope, arguments)\n        $rootScope.frontend_loading = true\n\n        $scope.$watch 'search.table', (newVal, oldVal) ->\n            $scope.search.column = null if ((newVal && oldVal) || (oldVal && not newVal))\n\n        $scope.toJson = (data)->\n            JSON.parse(data)\n\n        $scope.refreshCounts = ->\n            $timeout ->\n                $('.selectpicker option').each (index, el) ->\n                    $(el).data 'subtext', $(el).attr 'data-subtext'\n                    $(el).data 'content', $(el).attr 'data-content'\n                $('.selectpicker').selectpicker 'refresh'\n            , 100\n\n        $scope.filter = ->\n            $.cookie(\"logs\", JSON.stringify($scope.search), { expires: 365, path: '/' });\n            $scope.current_page = 1\n            $scope.pageChanged()\n\n        $scope.keyFilter = (event) ->\n            $scope.filter() if event.keyCode is 13\n\n        $timeout ->\n            $scope.search = if $.cookie(\"logs\") then JSON.parse($.cookie(\"logs\")) else {}\n            load $scope.page\n            $scope.current_page = $scope.page\n\n        $scope.pageChanged = ->\n            $rootScope.frontend_loading = true\n            load $scope.current_page\n            paginate('logs', $scope.current_page)\n\n\n        load = (page) ->\n            params = '?page=' + page\n\n            $http.get \"api/logs#{ params }\"\n            .then (response) ->\n                console.log response\n                $scope.counts = response.data.counts\n                $scope.data = response.data.data\n                $scope.logs = response.data.data.data\n                $rootScope.frontend_loading = false\n                $scope.refreshCounts()\n","angular\n    .module 'Egecms'\n    .controller 'MastersIndex', ($scope, $attrs, IndexService, Master) ->\n        bindArguments($scope, arguments)\n        angular.element(document).ready ->\n            IndexService.init(Master, $scope.current_page, $attrs)\n    .controller 'MastersForm', ($scope, $attrs, $timeout, $http, FormService, Master, Photo, Tag, PhotoService) ->\n        bindArguments($scope, arguments)\n        angular.element(document).ready ->\n            FormService.init(Master, $scope.id, $scope.model)\n            PhotoService.init(FormService, 'Master', $scope.id)\n\n        $scope.loadTags = (text) ->\n            Tag.autocomplete({text: text}).$promise\n","angular\n    .module 'Egecms'\n    .controller 'PagesIndex', ($scope, $attrs, $timeout, IndexService, Page, Published, FolderService) ->\n        bindArguments($scope, arguments)\n        angular.element(document).ready ->\n            IndexService.init(Page, $scope.current_page, $attrs, {folder: $scope.folder})\n            FolderService.init($scope.template.class, $scope.folder, IndexService, Page)\n    .controller 'PagesForm', ($scope, $http, $attrs, $timeout, FormService, AceService, Page, Published, UpDown, PageItem, Tag, FolderService) ->\n        bindArguments($scope, arguments)\n\n        empty_useful = {text: null, page_id_field: null}\n\n        $scope.copy = ->\n            ajaxStart()\n            $http.post 'api/pages/copy', {id: $scope.id}\n            .then (response) ->\n                console.log(response)\n                redirect(\"pages/#{response.data}/edit\")\n\n        angular.element(document).ready ->\n            FolderService.init($scope.template.class)\n            FormService.init(Page, $scope.id, $scope.model)\n            FormService.model.folder_id = $.cookie('page_folder_id') if not FormService.model.id && $.cookie('page_folder_id')\n            FormService.dataLoaded.promise.then ->\n                FormService.model.useful = [angular.copy(empty_useful)] if (not FormService.model.useful or not FormService.model.useful.length)\n                ['html', 'html_mobile', 'seo_text'].forEach (field) -> AceService.initEditor(FormService, 15, \"editor--#{field}\")\n            FormService.beforeSave = ->\n                ['html', 'html_mobile', 'seo_text'].forEach (field) -> FormService.model[field] = AceService.getEditor(\"editor--#{field}\").getValue()\n                if FormService.model.items then FormService.model.items.forEach (item, index) ->\n                    item.href_page_id = null if not item.href_page_id\n                    PageItem.update {id: item.id}, item,  ->\n                        console.log('updated')\n                    , ->\n                        ajaxEnd()\n                        notifyError 'Несуществующий номер раздела'\n            bindFileUpload()\n\n        $scope.generateUrl = (event) ->\n            $http.post '/api/translit/to-url',\n                text: FormService.model.keyphrase\n            .then (response) ->\n                FormService.model.url = response.data\n                $scope.checkExistance 'url',\n                    target: $(event.target).closest('div').find('input')\n\n        $scope.checkExistance = (field, event) ->\n            Page.checkExistance\n                id: FormService.model.id\n                field: field\n                value: FormService.model[field]\n            , (response) ->\n                element = $(event.target)\n                if response.exists\n                    FormService.error_element = element\n                    element.addClass('has-error').focus()\n                else\n                    FormService.error_element = undefined\n                    element.removeClass('has-error')\n\n        # @todo: объединить с checkExistance\n        $scope.checkUsefulExistance = (field, event, value) ->\n            Page.checkExistance\n                id: FormService.model.id\n                field: field\n                value: value\n            , (response) ->\n                element = $(event.target)\n                if not value or response.exists\n                    FormService.error_element = undefined\n                    element.removeClass('has-error')\n                else\n                    FormService.error_element = element\n                    element.addClass('has-error').focus()\n\n        $scope.addUseful = ->\n            FormService.model.useful.push(angular.copy(empty_useful))\n\n        $scope.addLinkDialog = ->\n            $scope.link_text = AceService.editor.getSelectedText()\n            $('#link-manager').modal 'show'\n\n        $scope.search = (input, promise)->\n            $http.post('api/pages/search', {q: input}, {timeout: promise})\n                .then (response) ->\n                    return response\n\n        $scope.searchSelected = (selectedObject) ->\n            $scope.link_page_id = selectedObject.originalObject.id\n            $scope.$broadcast('angucomplete-alt:changeInput', 'page-search', $scope.link_page_id.toString())\n\n        $scope.addLink = ->\n            link = \"<a href='[link|#{$scope.link_page_id}]'>#{$scope.link_text}</a>\"\n            $scope.link_page_id = undefined\n            $scope.$broadcast('angucomplete-alt:clearInput')\n            AceService.editor.session.replace(AceService.editor.selection.getRange(), link)\n            $('#link-manager').modal 'hide'\n\n        $scope.$watch 'FormService.model.station_id', (newVal, oldVal) ->\n            $timeout -> $('#sort').selectpicker('refresh')\n\n        $scope.sortableOptions =\n            handle: \".photo-dashed\"\n            items: \".page-item-draggable\"\n            cursor: \"move\"\n            opacity: 0.9,\n            zIndex: 9999\n            containment: \"parent\"\n            tolerance: \"pointer\"\n\n        $scope.addService = ->\n            PageItem.save\n                page_id: FormService.model.id\n            , (response) ->\n                FormService.model.items.push(response)\n\n        $scope.removeService = (item) ->\n            PageItem.delete({id: item.id})\n            FormService.model.items = _.filter FormService.model.items, (i) -> i.id != item.id\n\n        $scope.uploadSvg = (item) ->\n            console.log(item)\n            $scope.selected_item = item\n            $timeout -> $('#fileupload').click()\n\n        $scope.togglePublished = ->\n            FormService.model.published = not FormService.model.published\n            FormService.model.published = if FormService.model.published then 1 else 0\n\n        $scope.loadTags = (text) ->\n            Tag.autocomplete({text: text}).$promise\n\n        bindFileUpload = ->\n          # загрузка файла договора\n          $('#fileupload').fileupload\n            maxFileSize: 10000000, # 10 MB\n            # начало загрузки\n            send: ->\n              NProgress.configure({ showSpinner: true })\n            ,\n            # во время загрузки\n            progress: (e, data) ->\n                NProgress.set(data.loaded / data.total)\n            ,\n            # всегда по окончании загрузки (неважно, ошибка или успех)\n            always: ->\n                NProgress.configure({ showSpinner: false })\n                ajaxEnd()\n            ,\n            done: (i, response) =>\n                $scope.selected_item.file = response.result\n                $scope.$apply()\n                console.log(response.result)\n","angular.module('Egecms')\n    .controller 'PaymentsIndex', ($scope, $attrs, $timeout, $http, IndexService, Payment, UserService, Checked) ->\n        bindArguments($scope, arguments)\n\n        $(window).on 'keydown', (e) -> $scope.removeSelectedPayments() if e.which is 8\n\n        $('#import-button').fileupload\n            # начало загрузки\n            # send: ->\n            #     NProgress.configure({ showSpinner: true })\n            # # во время загрузки\n            # progress: (e, data) ->\n            #     NProgress.set(data.loaded / data.total)\n            # # всегда по окончании загрузки (неважно, ошибка или успех)\n            start: -> ajaxStart()\n            always: -> ajaxEnd()\n            done: (i, response) ->\n                notifySuccess(\"<b>#{response.result}</b> импортировано\")\n                $scope.filter()\n\n            error: (response) ->\n                console.log(response)\n                notifyError(response.responseJSON)\n\n        angular.element(document).ready ->\n            $timeout ->\n                $('.selectpicker').selectpicker 'refresh'\n            , 1000\n            $scope.search = if $.cookie(\"payments\") then JSON.parse($.cookie(\"payments\")) else\n                addressee_id: ''\n                source_id: ''\n                expenditure_id: ''\n                type: ''\n\n            $scope.selected_payments = []\n            $scope.tab = 'payments'\n\n            IndexService.init(Payment, $scope.current_page, $attrs)\n\n        $scope.filter = ->\n            $.cookie(\"payments\", JSON.stringify($scope.search), { expires: 365, path: '/' });\n            IndexService.current_page = 1\n            IndexService.pageChanged()\n\n        $scope.keyFilter = (event) ->\n            $scope.filter() if event.keyCode is 13\n\n        $scope.selectPayment = (payment) ->\n            if payment.id in $scope.selected_payments\n                $scope.selected_payments = _.without($scope.selected_payments, payment.id)\n            else\n                $scope.selected_payments.push(payment.id)\n\n        $scope.removeSelectedPayments = ->\n            if $scope.selected_payments.length then bootbox.confirm \"Вы уверены, что хотите удалить <b>#{$scope.selected_payments.length}</b> платежей?\", (response) ->\n                if response is true\n                    ajaxStart()\n                    $.post('api/payments/delete', {ids: $scope.selected_payments}).then (response) ->\n                        $scope.selected_payments = []\n                        $scope.filter()\n                        ajaxEnd()\n\n        $scope.getExpenditure = (id) ->\n            id = parseInt(id)\n            expenditure = null\n            $scope.expenditures.forEach (e) ->\n                return if expenditure\n                e.data.forEach (d) ->\n                    if d.id == id\n                        expenditure = d\n                        return\n            expenditure\n\n        $scope.addPaymentDialog = (payment = false) ->\n            $scope.modal_payment = _.clone(payment || $scope.fresh_payment)\n            $('#payment-stream-modal').modal('show')\n\n        $scope.savePayment = ->\n            $scope.adding_payment = true\n\n            if not $scope.modal_payment.date\n                $('#payment-date').focus()\n                notifyError(\"укажите дату\")\n                return\n\n            if not $scope.modal_payment.source_id\n                notifyError(\"укажите источник\")\n                return\n\n            if not $scope.modal_payment.addressee_id\n                notifyError(\"укажите адресат\")\n                return\n\n            if not $scope.modal_payment.expenditure_id\n                notifyError(\"укажите статью\")\n                return\n\n            if not $scope.modal_payment.purpose\n                $('#payment-purpose').focus()\n                notifyError(\"укажите назначение\")\n                return\n\n            func = if $scope.modal_payment.id then Payment.update else Payment.save\n            func $scope.modal_payment, (response) ->\n                $scope.adding_payment = false\n                $('#payment-stream-modal').modal('hide')\n                $scope.filter()\n\n        $scope.clonePayment = (payment) ->\n            new_payment = _.clone(payment)\n            delete new_payment.id\n            delete new_payment.created_at\n            delete new_payment.updated_at\n            delete new_payment.user_id\n            $scope.addPaymentDialog(new_payment)\n\n        $scope.deletePayment = ->\n            Payment.delete {id: $scope.modal_payment.id}, (response) ->\n                $('#payment-stream-modal').modal('hide')\n                $scope.filter()\n\n        $scope.editPayment = (model) ->\n            $scope.modal_payment = _.clone(model)\n            $('#payment-stream-modal').modal('show')\n\n        $scope.formatStatDate = (date) ->\n            moment(date + '-01').format('MMMM')\n\n        $scope.loadStats = ->\n            return if $scope.tab isnt 'stats'\n            $scope.stats_loading = true\n            ajaxStart()\n            $http.post 'api/payments/stats', $scope.search_stats\n            .then (response) ->\n                ajaxEnd()\n                $scope.stats_loading = false\n                if response.data\n                    $scope.stats_data = response.data.data\n                    $scope.expenditure_data = response.data.expenditures\n                    $timeout -> $scope.totals = getTotal()\n                else\n                    $scope.stats_data = null\n\n        getTotal = ->\n            total = {in: 0, out: 0, sum: 0}\n            $.each $scope.stats_data, (year, data) ->\n                data.forEach (d) ->\n                    total.in  += parseFloat(d.in)\n                    total.out += parseFloat(d.out)\n                    total.sum += parseFloat(d.sum)\n            total\n\n    .controller 'PaymentForm', ($scope, FormService, Payment)->\n        bindArguments($scope, arguments)\n        angular.element(document).ready ->\n            FormService.init(Payment, $scope.id, $scope.model)\n            FormService.prefix = ''\n\n    .controller 'PaymentSourceIndex', ($scope, $attrs, $timeout, IndexService, PaymentSource) ->\n        bindArguments($scope, arguments)\n        angular.element(document).ready ->\n            IndexService.init(PaymentSource, $scope.current_page, $attrs)\n\n        $scope.sortableOptions =\n            cursor: \"move\"\n            opacity: 0.9,\n            zIndex: 9999\n            tolerance: \"pointer\"\n            axis: 'y'\n            containment: \"parent\"\n            update: (event, ui) ->\n                $timeout ->\n                    IndexService.page.data.forEach (model, index) ->\n                        PaymentSource.update({id: model.id, position: index})\n\n    .controller 'PaymentSourceForm', ($scope, FormService, PaymentSource)->\n        bindArguments($scope, arguments)\n        angular.element(document).ready ->\n            FormService.init(PaymentSource, $scope.id, $scope.model)\n            FormService.prefix = 'payments/'\n\n    .controller 'PaymentExpenditureIndex', ($scope, $attrs, $timeout, IndexService, PaymentExpenditure, PaymentExpenditureGroup) ->\n        bindArguments($scope, arguments)\n        angular.element(document).ready ->\n            $scope.groups = PaymentExpenditureGroup.query()\n\n        $scope.onEdit = (id, event) ->\n            PaymentExpenditureGroup.update {id: id, name: $(event.target).text()}\n\n        $scope.removeGroup = (group) ->\n            bootbox.confirm \"Вы уверены, что хотите удалить группу «#{group.name}»\", (response) ->\n                if response is true\n                    PaymentExpenditureGroup.remove {id: group.id}, -> $scope.groups = PaymentExpenditureGroup.query()\n\n\n        $scope.sortableOptions =\n            cursor: \"move\"\n            opacity: 0.9,\n            zIndex: 9999\n            tolerance: \"pointer\"\n            axis: 'y'\n            containment: \"parent\"\n            update: (event, ui, data) ->\n                $timeout ->\n                    $scope.groups.forEach (group) ->\n                        group.data.forEach (model, index) ->\n                            PaymentExpenditure.update({id: model.id, position: index})\n\n        $scope.sortableGroupOptions =\n            cursor: \"move\"\n            opacity: 0.9,\n            zIndex: 9999\n            tolerance: \"pointer\"\n            axis: 'y'\n            containment: \"parent\"\n            items: \".item-draggable\"\n            update: (event, ui, data) ->\n                $timeout ->\n                    $scope.groups.forEach (group, index) ->\n                        PaymentExpenditureGroup.update({id: group.id, position: index})\n\n    .controller 'PaymentExpenditureForm', ($scope, $timeout, FormService, PaymentExpenditure, PaymentExpenditureGroup)->\n        bindArguments($scope, arguments)\n        angular.element(document).ready ->\n            FormService.init(PaymentExpenditure, $scope.id, $scope.model)\n            FormService.prefix = 'payments/'\n\n        $scope.changeGroup = ->\n            if FormService.model.group_id is -1\n                FormService.model.group_id = ''\n                $('#new-group').modal('show')\n            # console.log(FormService.model.group_id)\n\n        $scope.createNewGroup = ->\n            $('#new-group').modal('hide')\n            PaymentExpenditureGroup.save\n                name: $scope.new_group_name\n            , (response) ->\n                $scope.new_group_name = ''\n                $scope.groups.push(response)\n                FormService.model.group_id = response.id\n                $timeout -> $('.selectpicker').selectpicker('refresh')\n\n    .controller 'PaymentAccount', ($scope, $http, $timeout) ->\n        bindArguments($scope, arguments)\n        angular.element(document).ready ->\n            $timeout ->\n                $scope.source_id = 4\n                $scope.current_page = 1\n                load(1)\n\n        $scope.pageChanged = ->\n            load($scope.current_page)\n            paginate 'account', $scope.current_page\n\n        load = (page) ->\n            ajaxStart()\n            $http.post 'api/account',\n                page: page\n                source_id: $scope.source_id\n            .then (response) ->\n                ajaxEnd()\n                $scope.data = response.data\n\n    .controller 'PaymentRemainders', ($scope, $http, $timeout) ->\n        bindArguments($scope, arguments)\n        angular.element(document).ready ->\n            # $timeout ->\n            #     # load($scope.page)\n            #     $scope.current_page = $scope.page\n\n        $scope.filterChanged = ->\n            # load($scope.page)\n            $scope.current_page = 1\n            load(1)\n\n        $scope.pageChanged = ->\n            load($scope.current_page)\n            paginate 'payments/remainders', $scope.current_page\n\n        load = (page) ->\n            ajaxStart()\n            $http.post 'api/payments/remainders',\n                page: page\n                source_id: $scope.source_id\n            .then (response) ->\n                ajaxEnd()\n                $scope.data = response.data\n","angular\n    .module 'Egecms'\n    .controller 'PricesIndex', ($scope, $attrs, $timeout, $http, PriceSection, PricePosition) ->\n        bindArguments($scope, arguments)\n\n        angular.element(document).ready ->\n            $http.get('api/prices').then (response) ->\n                $scope.items = response.data\n            $scope.collapsed_price_sections = if $.cookie(\"collapsed_price_sections\") then JSON.parse($.cookie(\"collapsed_price_sections\")) else []\n            $timeout ->\n                new Clipboard('.copiable')\n            , 1000\n\n        clearChangePrice = (section_id) ->\n            $scope.change_price =\n                type: '1'\n                unit: '1'\n                section_id: section_id\n                value: null\n            $timeout -> $('.selectpicker').selectpicker('refresh')\n\n        getRowsAffected = (item) ->\n            return 1 if not item.is_section\n            result = 0\n            item.items.forEach (item) ->\n                result += getRowsAffected(item)\n            result\n\n\n        $scope.changePriceDialog = (item) ->\n            clearChangePrice(item.model.id)\n            $scope.rows_affected = getRowsAffected(item)\n            $('#change-price-modal').modal('show')\n\n        $scope.changePriceRootDialog = ->\n            item =\n                is_section: true\n                items: $scope.items\n                model: {id: -1}\n            $scope.changePriceDialog(item)\n\n        $scope.changePrice = ->\n            ajaxStart()\n            $scope.changing_price = true\n            $http.post 'api/prices/change', $scope.change_price\n            .then ->\n                location.reload()\n\n        $scope.toggleCollapse = (item) ->\n            id = item.model.id\n            if id in $scope.collapsed_price_sections\n                $scope.collapsed_price_sections = _.without($scope.collapsed_price_sections, id)\n            else\n                $scope.collapsed_price_sections.push(id)\n            $.cookie(\"collapsed_price_sections\", JSON.stringify($scope.collapsed_price_sections), { expires: 365, path: '/' })\n\n        $scope.isCollapsed = (item) -> item.model.id in $scope.collapsed_price_sections\n\n        $scope.sortableOptions =\n            update: (event, ui) ->\n                $timeout ->\n                    $scope.items.forEach (item, index) ->\n                        Resource = if item.is_section then PriceSection else PricePosition\n                        Resource.update({id: item.model.id, position: index})\n            items: '.price-item-' + $scope.$id\n            axis: 'y'\n            cursor: \"move\"\n            opacity: 0.9,\n            zIndex: 9999\n\n\n    .controller 'PricesForm', ($scope, $attrs, $timeout, $http, FormService, PriceSection) ->\n        bindArguments($scope, arguments)\n        angular.element(document).ready ->\n            FormService.init(PriceSection, $scope.id, $scope.model)\n            FormService.redirect_url = 'prices'\n    .controller 'PricePositionForm', ($scope, $attrs, $timeout, $http, FormService, PricePosition, Units, Tag) ->\n        bindArguments($scope, arguments)\n        angular.element(document).ready ->\n            FormService.init(PricePosition, $scope.id, $scope.model)\n            FormService.redirect_url = 'prices'\n        $scope.loadTags = (text) ->\n            Tag.autocomplete({text: text}).$promise\n","angular\n    .module 'Egecms'\n    .controller 'ReviewsIndex', ($scope, $attrs, IndexService, Review, FolderService) ->\n        bindArguments($scope, arguments)\n        angular.element(document).ready ->\n            IndexService.init(Review, $scope.current_page, $attrs, {folder: $scope.folder})\n            FolderService.init($scope.template.class, $scope.folder, IndexService, Review)\n\n    .controller 'ReviewsForm', ($scope, $attrs, $timeout, FormService, Review, Published, Scores, Tag, FolderService) ->\n        bindArguments($scope, arguments)\n        angular.element(document).ready ->\n            FolderService.init($scope.template.class)\n            FormService.init(Review, $scope.id, $scope.model)\n            FormService.model.folder_id = $.cookie('review_folder_id') if not FormService.model.id && $.cookie('review_folder_id')\n\n        $scope.loadTags = (text) ->\n            Tag.autocomplete({text: text}).$promise\n","angular\n    .module 'Egecms'\n    .controller 'SearchIndex', ($scope, $attrs, $timeout, IndexService, Page, Published, ExportService) ->\n        bindArguments($scope, arguments)\n        ExportService.init({controller: 'pages'})\n\n        angular.element(document).ready ->\n            IndexService.init(Page, $scope.current_page, $attrs, false)\n","angular\n    .module 'Egecms'\n    .controller 'TagsIndex', ($scope, $attrs, $timeout, IndexService, Tag) ->\n        bindArguments($scope, arguments)\n\n        $scope.sortableOptions =\n            cursor: \"move\"\n            opacity: 0.9,\n            zIndex: 9999\n            tolerance: \"pointer\"\n            axis: 'y'\n            update: (event, ui) ->\n                $timeout ->\n                    IndexService.page.data.forEach (model, index) ->\n                        Tag.update({id: model.id, position: index})\n\n        angular.element(document).ready ->\n            IndexService.init(Tag, $scope.current_page, $attrs)\n    .controller 'TagsForm', ($scope, $attrs, $timeout, FormService, Tag) ->\n        bindArguments($scope, arguments)\n\n        angular.element(document).ready ->\n            FormService.init(Tag, $scope.id, $scope.model)\n            FormService.error_text = \"тег уже существует\"\n\n        $scope.checkExistance = (field, event) ->\n            Tag.checkExistance\n                id: FormService.model.id\n                text: FormService.model.text\n            , (response) ->\n                element = $(event.target)\n                if response.exists\n                    FormService.error_element = element\n                    element.addClass('has-error').focus()\n                else\n                    FormService.error_element = undefined\n                    element.removeClass('has-error')\n","angular\n    .module 'Egecms'\n    .controller 'UsersIndex', ($scope, $attrs, IndexService, User) ->\n        bindArguments($scope, arguments)\n        angular.element(document).ready ->\n            IndexService.init(User, $scope.current_page, $attrs)\n    .controller 'UsersForm', ($scope, $attrs, $timeout, FormService, User, PhotoService) ->\n        bindArguments($scope, arguments)\n        angular.element(document).ready ->\n            FormService.init(User, $scope.id, $scope.model)\n            PhotoService.init(FormService, 'Master', $scope.id)\n\n        $scope.toggleRights = (right) ->\n            right = parseInt(right)\n            if $scope.allowed(right)\n                FormService.model.rights = _.reject FormService.model.rights, (val) -> val is right\n            else\n                FormService.model.rights.push(right)\n\n        $scope.allowed = (right) -> FormService.model.rights.indexOf(parseInt(right)) isnt -1\n","angular\n    .module 'Egecms'\n    .controller 'VariablesIndex', ($scope, $attrs, $rootScope, $timeout, IndexService, Variable, VariableGroup) ->\n        l = (e) -> console.log e\n\n        angular.element(document).ready ->\n            $(document).scroll (event) ->\n                if $(document).scrollTop() + $(window).height() is $(document).height()\n                    $(document).scrollTop($(document).height() - 50)\n                    l 'scrolled back'\n\n        $scope.$watchCollection 'dnd', (newVal) ->\n            l $scope.dnd\n\n        bindArguments($scope, arguments)\n\n        updatePositions = (group_ids) ->\n            group_ids = [group_ids] if not _.isArray group_ids\n            angular.forEach group_ids, (group_id) ->\n                group = $rootScope.findById $scope.groups, group_id\n                angular.forEach group.variable, (variable, index) ->\n                    Variable.update({id: variable.id, position: index})\n\n        dragEnd = ->\n            $scope.dnd = {}\n\n        $scope.sortableVariableConf =\n            animation:  150\n            group:\n                name:   'variable'\n                put:    'variable'\n            fallbackTolerance: 5\n\n            onUpdate: (event) ->\n                updatePositions $scope.dnd.group_id\n\n            onAdd: (event) ->\n                variable_id = $scope.dnd.variable_id\n                if $scope.dnd.group_id and $scope.dnd.variable_id and ($scope.dnd.group_id isnt $scope.dnd.old_group_id)\n                   if $scope.dnd.group_id is -1\n                       VariableGroup.save {variable_id: $scope.dnd.variable_id}, (response) ->\n                           $scope.groups.push(response)\n                           moveToGroup $scope.dnd.variable_id, response.id, $scope.dnd.old_group_id, true\n                           dragEnd()\n                   else if $scope.dnd.group_id\n                       moveToGroup $scope.dnd.variable_id, $scope.dnd.group_id, $scope.dnd.old_group_id\n                       updatePositions [$scope.dnd.group_id, $scope.dnd.old_group_id]\n\n            onEnd: (event) ->\n                dragEnd() if $scope.dnd.group_id isnt -1\n\n        $scope.dragOver = (group) ->\n            $scope.dnd.group_id = group.id if $scope.dnd.type isnt 'group'\n\n        $scope.sortableGroupConf =\n            animation: 150\n            handle: '.group-title'\n            dragClass: 'dragging-group'\n            onUpdate: (event) ->\n                angular.forEach $scope.groups, (group, index) ->\n                    group.position = index\n                    VariableGroup.update({id: group.id, position: index})\n\n            onStart: (event) ->\n                $scope.dnd.type = 'group'\n\n            onEnd: (event) ->\n                $scope.dnd = {}\n\n        $scope.dnd = {}\n\n        # переместить в группу\n        moveToGroup = (variable_id, group_id, old_group_id, copy_item = false) ->\n            Variable.update id: variable_id, group_id: group_id\n\n            group_from = _.find $scope.groups, id: old_group_id\n            variable = _.clone findById(group_from.variable, variable_id)\n            variable.group_id = group_id\n\n            group_from.variable = removeById(group_from.variable, variable_id)\n            group_to = _.find $scope.groups, id: group_id\n\n            if copy_item\n                group_to.variable.push variable\n            else\n                variable = $rootScope.findById(group_to.variable, variable_id)\n                variable.group_id = group_id\n\n        $scope.removeGroup = (group) ->\n            bootbox.confirm \"Вы уверены, что хотите удалить группу «#{group.title}»\", (response) ->\n                if response is true\n                    VariableGroup.remove {id: group.id}\n                    new_group_id = (_.max _.without($scope.groups, group), (group) -> group.position).id\n\n                    if group.variable\n                        angular.forEach group.variable, (variable) ->\n                            moveToGroup variable.id, new_group_id, variable.group_id, true\n                        updatePositions new_group_id\n\n                    $scope.groups = removeById $scope.groups, group.id\n\n        $scope.onEdit = (id, event) ->\n            VariableGroup.update {id: id, title: $(event.target).text()}\n\n    .controller 'VariablesForm', ($scope, $attrs, $timeout, FormService, AceService, Variable) ->\n        bindArguments($scope, arguments)\n        angular.element(document).ready ->\n            FormService.init(Variable, $scope.id, $scope.model)\n            FormService.dataLoaded.promise.then ->\n                AceService.initEditor(FormService, 30)\n                AceService.editor.getSession().setMode('ace/mode/json') if FormService.model.html[0] is '{'\n            FormService.beforeSave = ->\n                FormService.model.html = AceService.editor.getValue()\n","angular\n    .module 'Egecms'\n    .controller 'VideosIndex', ($scope, $attrs, IndexService, Video) ->\n        bindArguments($scope, arguments)\n        angular.element(document).ready ->\n            IndexService.init(Video, $scope.current_page, $attrs)\n    .controller 'VideosForm', ($scope, $attrs, $timeout, FormService, Video, Tag) ->\n        bindArguments($scope, arguments)\n        angular.element(document).ready ->\n            FormService.init(Video, $scope.id, $scope.model)\n\n        $scope.loadTags = (text) ->\n            Tag.autocomplete({text: text}).$promise\n","angular.module('Egecms')\n    .value 'Published', [\n        {id:0, title: 'не опубликовано'},\n        {id:1, title: 'опубликовано'},\n    ]\n    .value 'Scores', [\n        {id:1, title: '1'},\n        {id:2, title: '2'},\n        {id:3, title: '3'},\n        {id:4, title: '4'},\n        {id:5, title: '5'},\n        {id:6, title: '6'},\n        {id:7, title: '7'},\n        {id:8, title: '8'},\n        {id:9, title: '9'},\n        {id:10, title: '10'},\n    ]\n    .value 'Checked', ['не проверено', 'проверено']\n    .value 'UpDown', [\n        {id: 1, title: 'вверху'},\n        {id: 2, title: 'внизу'},\n    ]\n    .value 'Units', [\n        {id: 1, title: 'изделие'},\n        {id: 2, title: 'штука'},\n        {id: 3, title: 'сантиметр'},\n        {id: 4, title: 'пара'},\n        {id: 5, title: 'метр'},\n        {id: 6, title: 'дм²'},\n        {id: 7, title: 'см²'},\n        {id: 8, title: 'мм²'},\n        {id: 9, title: 'элемент'},    ]\n    .value 'LogTypes',\n        create: 'создание'\n        update: 'обновление'\n        delete: 'удаление'\n        authorization: 'авторизация'\n        url: 'просмотр URL'\n","angular.module('Egecms')\n    .factory 'Variable', ($resource) ->\n        $resource apiPath('variables'), {id: '@id'}, updatable()\n\n    .factory 'VariableGroup', ($resource) ->\n        $resource apiPath('variables/groups'), {id: '@id'}, updatable()\n\n    .factory 'Page', ($resource) ->\n        $resource apiPath('pages'), {id: '@id'},\n            update:\n                method: 'PUT'\n            checkExistance:\n                method: 'POST'\n                url: apiPath('pages', 'checkExistance')\n\n    .factory 'Equipment', ($resource) ->\n        $resource apiPath('equipment'), {id: '@id'}, updatable()\n\n    .factory 'PriceSection', ($resource) ->\n        $resource apiPath('prices'), {id: '@id'}, updatable()\n\n    .factory 'PricePosition', ($resource) ->\n        $resource apiPath('prices/positions'), {id: '@id'}, updatable()\n\n    .factory 'Gallery', ($resource) ->\n        $resource apiPath('galleries'), {id: '@id'}, updatable()\n\n    .factory 'Photo', ($resource) ->\n        $resource apiPath('photos'), {id: '@id'}, updatable()\n\n    .factory 'Folder', ($resource) ->\n        $resource apiPath('folders'), {id: '@id'},\n            update:\n                method: 'PUT'\n            tree:\n                method: 'POST'\n                url: apiPath('folders', 'tree')\n                isArray: true\n            breadcrumbs:\n                method: 'GET'\n                url: apiPath('folders', 'breadcrumbs')\n                isArray: true\n\n    .factory 'PageItem', ($resource) ->\n        $resource apiPath('pageitems'), {id: '@id'}, updatable()\n\n    .factory 'User', ($resource) ->\n        $resource apiPath('users'), {id: '@id'}, updatable()\n\n    .factory 'AllUser', ($resource) ->\n        $resource apiPath('allusers'), {id: '@id'}, updatable()\n\n    .factory 'Payment', ($resource) ->\n        $resource apiPath('payments'), {id: '@id'}, updatable()\n\n    .factory 'PaymentSource', ($resource) ->\n        $resource apiPath('payments/sources'), {id: '@id'}, updatable()\n\n    .factory 'PaymentExpenditure', ($resource) ->\n        $resource apiPath('payments/expenditures'), {id: '@id'}, updatable()\n\n    .factory 'PaymentExpenditureGroup', ($resource) ->\n        $resource apiPath('payments/expendituregroups'), {id: '@id'}, updatable()\n\n    .factory 'Tag', ($resource) ->\n        $resource apiPath('tags'), {id: '@id'},\n                update:\n                    method: 'PUT'\n                autocomplete:\n                    method: 'GET'\n                    url: apiPath('tags', 'autocomplete')\n                    isArray: true\n                checkExistance:\n                    method: 'POST'\n                    url: apiPath('tags', 'checkExistance')\n\n    .factory 'Master', ($resource) ->\n        $resource apiPath('masters'), {id: '@id'}, updatable()\n\n    .factory 'Review', ($resource) ->\n        $resource apiPath('reviews'), {id: '@id'}, updatable()\n\n    .factory 'Video', ($resource) ->\n        $resource apiPath('videos'), {id: '@id'}, updatable()\n\n\napiPath = (entity, additional = '') ->\n    \"api/#{entity}/\" + (if additional then additional + '/' else '') + \":id\"\n\n\nupdatable = ->\n    update:\n        method: 'PUT'\ncountable = ->\n    count:\n        method: 'GET'\n","# @todo – разобраться как\n# angular.module('Egecms').directive 'bsSelect', ($timeout) ->\n#     restrict: 'A'\n#     require: 'ngModel'\n#     compile: (scope, element, attrs) ->\n#         $(element).selectpicker()\n","# angular.module('Egerep').directive 'comments', ->\n#     restrict: 'E'\n#     templateUrl: 'directives/comments'\n#     scope:\n#         user: '='\n#         entityId: '='\n#         trackLoading: '='\n#         entityType: '@'\n#     controller: ($rootScope, $scope, $timeout, Comment) ->\n#         $scope.show_max = 4                 # сколько комментов показывать в свернутом режиме\n#         $scope.show_all_comments = false    # показать все комментарии?\n#         $scope.is_dragging = false          # комментарий перетаскивается\n#\n#         bindDraggable = (comment_id) ->\n#             $(\"#comment-#{comment_id}\").draggable\n#                 revert: 'invalid'\n#                 activeClass: 'drag-active'\n#                 start: (e, ui) ->\n#                     $scope.is_dragging = true\n#                     $scope.$apply()\n#                 stop: (e, ui) ->\n#                     $scope.is_dragging = false\n#                     $scope.$apply()\n#\n#         $timeout ->\n#             $scope.comments.forEach (comment) ->\n#                 bindDraggable(comment.id)\n#             $(\"#comment-delete-#{$scope.entityType}-#{$scope.entityId}\").droppable\n#                 tolerance: 'pointer'\n#                 hoverClass: 'hovered'\n#                 drop: (e, ui) ->\n#                     $scope.remove($(ui.draggable).data('comment-id'))\n#         , 2000\n#\n#         $scope.showAllComments = ->\n#             $scope.show_all_comments = true\n#             $timeout ->\n#                 $scope.comments.forEach (comment) ->\n#                     bindDraggable(comment.id)\n#\n#         $scope.getComments = ->\n#             if ($scope.show_all_comments or $scope.comments.length <= $scope.show_max) then $scope.comments else _.last($scope.comments, $scope.show_max - 1)\n#\n#         # перезагружаем комменты, если меняется entity_id\n#         $scope.$watch 'entityId', (newVal, oldVal) ->\n#             $scope.comments = Comment.query\n#                 entity_type: $scope.entityType\n#                 entity_id: newVal\n#             , ->\n#                 $rootScope.loaded_comments++ if $scope.trackLoading\n#\n#         $scope.formatDateTime = (date) ->\n#             moment(date).format \"DD.MM.YY в HH:mm\"\n#\n#         $scope.startCommenting = (event) ->\n#             $scope.start_commenting = true\n#             $timeout ->\n#                 $(event.target).parent().find('input').focus()\n#\n#         $scope.endCommenting = ->\n#             $scope.comment = ''\n#             $scope.start_commenting = false\n#\n#         $scope.remove = (comment_id) ->\n#             _.find($scope.comments, {id: comment_id}).$remove()\n#             $scope.comments = _.without($scope.comments, _.findWhere($scope.comments, {id: comment_id}))\n#\n#         $scope.edit = (comment, event) ->\n#             old_text    = comment.comment\n#             element     = $(event.target)\n#\n#             element.unbind('keydown').unbind('blur')\n#\n#             element.attr('contenteditable', 'true').focus()\n#                 .on 'keydown', (e) ->\n#                     console.log old_text\n#                     if e.keyCode is 13\n#                         $(@).removeAttr('contenteditable').blur()\n#                         comment.comment = $(@).text()\n#                         comment.$update()\n#                     if e.keyCode is 27\n#                         $(@).blur()\n#\n#                 .on 'blur', (e) ->\n#                     if element.attr 'contenteditable'\n#                         console.log old_text\n#                         element.removeAttr('contenteditable').html old_text\n#             return\n#             # setEndOfContenteditable(event.target)\n#\n#         $scope.submitComment = (event) ->\n#             if event.keyCode is 13\n#                 new_comment = new Comment\n#                     comment: $scope.comment\n#                     user_id: $scope.user.id\n#                     entity_id: $scope.entityId\n#                     entity_type: $scope.entityType\n#                 new_comment.$save()\n#                     .then (response)->\n#                         console.log response\n#                         new_comment.user = $scope.user\n#                         new_comment.id = response.id\n#                         $scope.comments.push new_comment\n#                         $timeout ->\n#                             bindDraggable(new_comment.id)\n#                 $scope.endCommenting()\n#\n#             if event.keyCode is 27\n#                 $(event.target).blur()\n","angular.module('Egecms').directive 'ngCounter', ($timeout) ->\n    restrict: 'A'\n    link: ($scope, $element, $attrs) ->\n        $($element).append \"<span class='input-counter'></span>\"\n        counter = $($element).find('.input-counter')\n        input = $($element).parent().find('textarea, input')\n        maxlength = input.attr('maxlength')\n\n        input.on 'keyup', -> counter.html $(@).val().length + \"/<span class='text-primary'>\" + maxlength + \"</span>\"\n\n        $timeout ->\n            input.keyup()\n        , 500\n","angular\n    .module 'Egecms'\n    .directive 'digitsOnly', ->\n        restricts:  'A'\n        require: 'ngModel'\n        link: ($scope, $element, $attr, $ctrl) ->\n            filter = (value) ->\n                return undefined if not value\n                new_value = value.replace /[^0-9]/g, ''\n                if new_value isnt value\n                    $ctrl.$setViewValue new_value\n                    $ctrl.$render()\n\n                value\n\n            $ctrl.$parsers?.push filter\n","angular.module('Egecms').directive 'editable', ->\n    restrict: 'A'\n    link: ($scope, $element, $attrs) ->\n        $element.on 'click', (event) ->\n            $element.attr('contenteditable', 'true').focus()\n        .on 'keydown', (event) ->\n            if event.keyCode in [13, 27]\n                event.preventDefault()\n                $element.blur()\n\n            if $element.data 'input-digits-only'\n                event.preventDefault() if not (event.keyCode < 57)\n\n        .on 'blur', (event) ->\n            $scope.onEdit($element.attr('editable'), event)\n            $element.removeAttr('contenteditable')\n","# angular.module('Egerep').directive 'email', ->\n#     restrict: 'E'\n#     templateUrl: 'directives/email'\n#     scope:\n#         entity: '='\n#     controller: ($scope) ->\n#         $scope.send = ->\n#             $('#email-modal').modal 'show'\n#     # controller: ($scope, $timeout, Email) ->\n#     #     # массовая отправка?\n#     #     $scope.mass = false\n#     #\n#     #     # подсчитать СМС\n#     #     $scope.smsCount = ->\n#     #         SmsCounter.count($scope.message || '').messages\n#     #\n#     #     # отправить\n#     #     $scope.send = ->\n#     #         if $scope.message\n#     #             sms = new Sms\n#     #                 message: $scope.message\n#     #                 to: $scope.number\n#     #                 mass: $scope.mass\n#     #             sms.$save()\n#     #\n#     #     # подгружаем историю, если номер телефона меняется\n#     #     $scope.$watch 'number', (newVal, oldVal) ->\n#     #         console.log $scope.$parent.formatDateTime($scope.created_at)\n#     #         $scope.history = Sms.query({number: newVal}) if newVal\n","# angular.module('Egerep').directive 'inputComment', ->\n#     restrict: 'E'\n#     templateUrl: 'directives/input-comment'\n#     scope:\n#         entity: '='\n#         commentField: '@'\n#     controller: ($scope, $timeout) ->\n#         $scope.is_being_commented = false\n#\n#         $scope.blurComment = ->\n#             $scope.is_being_commented = false\n#\n#         $scope.focusComment = ->\n#             $scope.is_being_commented = true\n#\n#         $scope.startComment = (event) ->\n#             $scope.is_being_commented = true\n#             $timeout ->\n#                 $(event.target).parent().children('input').focus()\n#\n#         $scope.endComment =  (event) ->\n#             if event.keyCode is 13\n#                 $(event.target).blur()\n#                 return\n","angular.module('Egecms').directive 'jumpOnTab', ->\n    restrict: 'A'\n    link: ($scope, $element, $attr) ->\n        $element.on 'keydown', (event) ->\n            if event.keyCode is 9\n                event.preventDefault()\n                next_node = $(event.target).parents('h2').first().find('.' + $attr.jumpOnTab);\n                next_node = next_node.trigger('click').trigger('focus')\n                focused_item = next_node[0]\n                if focused_item.childNodes.length\n                    range = document.createRange()\n                    range.setStart focused_item.childNodes[0], focused_item.innerText.length\n                    range.collapse true\n                    window.getSelection().removeAllRanges()\n                    window.getSelection().addRange range\n","angular.module 'Egecms'\n    .directive 'ngMulti', ->\n        restrict: 'E'\n        replace: true\n        scope:\n            object: '='\n            model: '='\n            label: '@'\n            noneText: '@'\n        templateUrl: 'directives/ngmulti'\n        controller: ($scope, $element, $attrs, $timeout) ->\n            $element.selectpicker\n                noneSelectedText: $scope.noneText\n\n            $scope.$watchGroup ['model', 'object'], (newVal) ->\n                $element.selectpicker 'refresh' if newVal\n","angular.module('Egecms').directive 'ngPhone', ($timeout) ->\n    restrict: 'A'\n    controller: ($scope, $element, $attrs, $timeout) ->\n        $timeout ->\n            $element.mask(\"+7 (999) 999-99-99\", { autoclear: false })\n        , 300\n","angular.module 'Egecms'\n    .directive 'orderBy', ->\n        restrict: 'E'\n        replace: true\n        scope:\n            options: '='\n        templateUrl: 'directives/order-by'\n        link: ($scope, $element, $attrs) ->\n            IndexService = $scope.$parent.IndexService\n            local_storage_key = 'sort-' + IndexService.controller\n\n            syncIndexService = (sort) ->\n                IndexService.sort = sort\n                IndexService.current_page = 1\n                IndexService.loadPage()\n\n            $scope.setSort = (sort) ->\n                $scope.sort = sort\n                localStorage.setItem(local_storage_key, sort)\n                syncIndexService(sort)\n\n            $scope.sort = localStorage.getItem(local_storage_key)\n\n            if $scope.sort is null\n                $scope.setSort(0)\n            else\n                syncIndexService($scope.sort)\n","# angular.module('Egerep').directive 'pencilInput', ->\n#     restrict: 'E'\n#     replace: true\n#     templateUrl: 'directives/pencil-input'\n#     scope:\n#         model: '='\n#     controller: ($scope, $timeout, $element, $controller) ->\n#         $scope.is_being_commented = false\n#\n#         $scope.blurComment = ->\n#             $scope.is_being_commented = false\n#\n#         $scope.focusComment = ->\n#             $scope.is_being_commented = true\n#\n#         $scope.startComment = (event) ->\n#             $scope.is_being_commented = true\n#             $timeout ->\n#                 $(event.target).parent().children('div').focus()\n#\n#         $scope.watchEnter = (event) ->\n#             if event.keyCode in [13, 27]\n#                 # @todo: надо изменить\n#                 if event.keyCode is 13\n#                     $scope.model = $(event.target).parent().children('div').text()\n#\n#                 $(event.target).parent().children('div').text($scope.model)\n#                 event.preventDefault()\n#                 $(event.target).blur()\n#             return\n","# angular.module('Egerep').directive 'phones', ->\n#     restrict: 'E'\n#     templateUrl: 'directives/phones'\n#     scope:\n#         entity: '='\n#     controller: ($scope, $timeout, $rootScope, PhoneService, UserService) ->\n#         $scope.PhoneService = PhoneService\n#         $scope.UserService  = UserService\n#\n#         console.log $scope.entityType\n#\n#         # level depth\n#         $rootScope.dataLoaded.promise.then (data) ->\n#             $scope.level = if $scope.entity.phones and $scope.entity.phones.length then $scope.entity.phones.length else 1\n#\n#         $scope.nextLevel = ->\n#             $scope.level++\n#\n#         $scope.phoneMaskControl = (event) ->\n#             el = $(event.target)\n#             # grabs string phone_2 from object model.phone2\n#             # so it can be accessible by key\n#             phone_id = el.attr('ng-model').split('.')[1]\n#             $scope.entity[phone_id] = $(event.target).val()\n#\n#         $scope.isFull = (number) ->\n#             return false if number is undefined or number is \"\"\n#             !number.match(/_/)\n#\n#         # отправить смс\n#         $scope.sms = (number) ->\n#             $('#sms-modal').modal 'show'\n#             $rootScope.sms_number = number\n#\n#         # информация по api\n#         $scope.info = (number) ->\n#             $scope.api_number = number\n#             $scope.mango_info = null\n#             $('#api-phone-info').modal 'show'\n#             PhoneService.info(number).then (response) ->\n#                 console.log response.data\n#                 $scope.mango_info = response.data\n#\n#         $scope.formatDateTime = (date) ->\n#             moment(date).format \"DD.MM.YY в HH:mm\"\n#\n#         $scope.time = (seconds) ->\n#             moment({}).seconds(seconds).format(\"mm:ss\")\n#\n#         $scope.getNumberTitle = (number) ->\n#             console.log number, $scope.api_number\n#             return 'текущий номер' if number is PhoneService.clean($scope.api_number)\n#             number\n#\n#         recodringLink = (recording_id) ->\n#             api_key   = 'goea67jyo7i63nf4xdtjn59npnfcee5l'\n#             api_salt  = 't9mp7vdltmhn0nhnq0x4vwha9ncdr8pa'\n#             timestamp = moment().add(5, 'minute').unix()\n#\n#             sha256 = new jsSHA('SHA-256', 'TEXT')\n#             sha256.update(api_key + timestamp + recording_id + api_salt)\n#             sign = sha256.getHash('HEX')\n#\n#             return \"https://app.mango-office.ru/vpbx/queries/recording/link/#{recording_id}/play/#{api_key}/#{timestamp}/#{sign}\"\n#\n#         $scope.play = (recording_id) ->\n#             $scope.audio.pause() if $scope.audio\n#             $scope.audio = new Audio recodringLink(recording_id)\n#             $scope.audio.play()\n#             $scope.is_playing = recording_id\n#\n#         $scope.isPlaying = (recording_id) ->\n#             $scope.is_playing is recording_id\n#\n#         $scope.stop = (recording_id) ->\n#             $scope.is_playing = null\n#             $scope.audio.pause()\n#\n#         $scope.disconnectReason = (data) ->\n#             # return 'НБТ' if data.to_extension is '' and data.disconnect_reason is '1100'\n#             data.disconnect_reason\n","angular.module 'Egecms'\n    .directive 'plural', ->\n        restrict: 'E'\n        scope:\n            count: '='      # кол-во\n            type: '@'       # тип plural age | student | ...\n            noneText: '@'   # текст, если кол-во равно нулю\n        templateUrl: 'directives/plural'\n        controller: ($scope, $element, $attrs, $timeout) ->\n            $scope.textOnly = $attrs.hasOwnProperty('textOnly')\n            $scope.hideZero = $attrs.hasOwnProperty('hideZero')\n\n            $scope.when =\n                'file': ['файл', 'файла', 'файлов']\n                'folder': ['папка', 'папки', 'папок']\n                'age': ['год', 'года', 'лет']\n                'student': ['ученик', 'ученика', 'учеников']\n                'minute': ['минуту', 'минуты', 'минут']\n                'hour': ['час', 'часа', 'часов']\n                'day': ['день', 'дня', 'дней']\n                'meeting': ['встреча', 'встречи', 'встреч']\n                'score': ['балл', 'балла', 'баллов']\n                'rubbles': ['рубль', 'рубля', 'рублей']\n                'lesson': ['занятие', 'занятия', 'занятий']\n                'client': ['клиент', 'клиента', 'клиентов']\n                'mark': ['оценки', 'оценок', 'оценок']\n                'request': ['заявка', 'заявки', 'заявок']\n                'hour': ['час', 'часа', 'часов']\n                'photo': ['фотография', 'фотографии', 'фотографий']\n                'position': ['позиция', 'позиции', 'позиций']\n                'will_be_updated': ['обновлена', 'обновлено', 'обновлено']\n","# angular.module 'Egerep'\n#     .directive 'plus', ->\n#         restrict: 'E'\n#         scope:\n#             previous: '='\n#             count: '='\n#         templateUrl: 'directives/plus'\n","angular.module 'Egecms'\n    .directive 'priceItem', ->\n        restrict: 'E'\n        templateUrl: 'directives/price-item'\n        scope:\n            item:   '='\n        controller: ($scope, $timeout, $rootScope, PriceSection, PricePosition, Units) ->\n            $scope.Units = Units\n            $scope.findById = $rootScope.findById\n            $scope.controller_scope = scope\n\n            $scope.sortableOptions =\n                update: (event, ui) ->\n                    $timeout ->\n                        $scope.item.items.forEach (item, index) ->\n                            Resource = if item.is_section then PriceSection else PricePosition\n                            Resource.update({id: item.model.id, position: index})\n                items: '.price-item-' + $scope.$id\n                axis: 'y'\n                cursor: \"move\"\n                opacity: 0.9,\n                zIndex: 9999\n                # containment: \"parent\"\n                # tolerance: \"pointer\"\n            # $scope.$watch 'item.positions', (newVal, oldVal) ->\n            #     console.log(newVal)","angular.module 'Egecms'\n    .directive 'search', ->\n        restrict: 'E'\n        templateUrl: 'directives/search'\n        scope: {}\n        link: ->\n            $('.search-icon').on 'click', -> $('#search-app').modal('show')\n        controller: ($scope, $timeout, $http, Published, FactoryService) ->\n            bindArguments($scope, arguments)\n            $scope.conditions = []\n            $scope.options = [\n                {title: 'ключевая фраза', value: 'keyphrase', type: 'text'},\n                {title: 'отображаемый URL', value: 'url', type: 'text'},\n                {title: 'title', value: 'title', type: 'text'},\n                {title: 'публикация', value: 'published', type: 'published'},\n                {title: 'h1 вверху', value: 'h1', type: 'text'},\n                {title: 'meta keywords', value: 'keywords', type: 'text'},\n                {title: 'meta description', value: 'desc', type: 'text'},\n                {title: 'предметы', value: 'subjects', type: 'subjects'},\n                {title: 'выезд', value: 'place', type: 'place'},\n                {title: 'метро', value: 'station_id', type: 'station_id'},\n                {title: 'сортировка', value: 'sort', type: 'sort'},\n                {title: 'скрытый фильтр', value: 'hidden_filter', type: 'text'},\n                {title: 'содержание раздела', value: 'html', type: 'textarea'}\n            ]\n\n            $scope.getOption = (condition) -> $scope.options[condition.option]\n\n            $scope.addCondition = ->\n                $scope.conditions.push({option: 0})\n                $timeout -> $('.selectpicker').selectpicker()\n\n            $scope.addCondition()\n\n            $scope.selectControl = (condition) ->\n                condition.value = null\n                switch $scope.getOption(condition).type\n                    when 'published' then condition.value = 0\n                    when 'subjects'\n                        if $scope.subjects is undefined then FactoryService.get('subjects', 'name').then (response) ->\n                            $scope.subjects = response.data\n                    when 'place'\n                        if $scope.places is undefined then FactoryService.get('places', 'serp').then (response) ->\n                            $scope.places = response.data\n                    when 'station_id'\n                        if $scope.stations is undefined then FactoryService.get('stations', 'title', 'title').then (response) ->\n                            $scope.stations = response.data\n                    when 'sort'\n                        if $scope.sort is undefined then FactoryService.get('sort').then (response) ->\n                            $scope.sort = response.data\n                # $('.search-value-control').selectpicker('refresh')\n\n            $scope.search = ->\n                search = {}\n                $scope.conditions.forEach (condition) ->\n                    search[$scope.getOption(condition).value] = condition.value\n                # long input bug fix – cookie can only store N bytes\n                search.html = search.html.substr(0, 200) if search.hasOwnProperty('html')\n\n                $.cookie('search', JSON.stringify(search), { expires: 365, path: '/' })\n                ajaxStart()\n                $scope.searching = true\n                window.location = 'search'\n","angular.module 'Egecms'\n    .directive 'ngSelectNew', ->\n        restrict: 'E'\n        replace: true\n        scope:\n            object: '='\n            model: '='\n            noneText: '@'\n            label: '@'\n            field: '@'\n        templateUrl: 'directives/select-new'\n        controller: ($scope, $element, $attrs, $timeout) ->\n            # выбираем первое значение по умолчанию, если нет noneText\n            if not $scope.noneText\n                value = _.first Object.keys($scope.object)\n                value = $scope.object[value][$scope.field] if $scope.field\n\n                if not $scope.model #race condition fix\n                    $scope.model = value\n\n            $timeout ->\n                $element.selectpicker\n                    noneSelectedText: $scope.noneText\n            , 100\n\n            $scope.$watchGroup ['model', 'object'], (newVal) ->\n                if newVal\n                    $timeout ->\n                        $element.selectpicker 'refresh'\n","angular.module 'Egecms'\n    .directive 'ngSelect', ->\n        restrict: 'E'\n        replace: true\n        scope:\n            object: '='\n            model: '='\n            noneText: '@'\n            label: '@'\n            field: '@'\n        templateUrl: 'directives/ngselect'\n        controller: ($scope, $element, $attrs, $timeout) ->\n            # выбираем первое значение по умолчанию, если нет noneText\n            if not $scope.noneText\n                if $scope.field\n                    $scope.model = $scope.object[_.first Object.keys($scope.object)][$scope.field]\n                else\n                    $scope.model = _.first Object.keys($scope.object)\n\n            $timeout ->\n                $($element).selectpicker()\n            , 150\n","# angular.module('Egerep').directive 'sms', ->\n#     restrict: 'E'\n#     templateUrl: 'directives/sms'\n#     scope:\n#         number: '='\n#     controller: ($scope, $timeout, Sms) ->\n#         # массовая отправка?\n#         $scope.mass = false\n#\n#         # подсчитать СМС\n#         $scope.smsCount = ->\n#             SmsCounter.count($scope.message || '').messages\n#\n#         # отправить\n#         $scope.send = ->\n#             if $scope.message\n#                 sms = new Sms\n#                     message: $scope.message\n#                     to: $scope.number\n#                     mass: $scope.mass\n#                 sms.$save()\n#                     .then (data) ->\n#                         $scope.history.push(data)\n#                         scrollDown()\n#\n#         # подгружаем историю, если номер телефона меняется\n#         $scope.$watch 'number', (newVal, oldVal) ->\n#             console.log $scope.$parent.formatDateTime($scope.created_at)\n#             $scope.history = Sms.query({number: newVal}) if newVal\n#             scrollDown()\n#\n#         scrollDown = ->\n#             $timeout ->\n#                 $(\"#sms-history\").animate({ scrollTop: $(window).height() }, \"fast\");\n","# angular.module 'Egerep'\n#     .directive 'tutorPhoto', ->\n#         restrict: 'E'\n#         replace: true\n#         scope:\n#             tutor: '='\n#             version: '='\n#         templateUrl: 'directives/tutor-photo'\n","# #\n# # Dependencies: UserService should be available in parent scope!\n# #\n#\n# angular.module 'Egerep'\n#     .directive 'userSwitch', ->\n#         restrict: 'E'\n#         scope:\n#             entity: '='\n#             resource: '='\n#             userId: '@'\n#         templateUrl: 'directives/user-switch'\n#         controller: ($scope) ->\n#             $scope.UserService = $scope.$parent.UserService\n","# angular.module 'Egerep'\n#     .directive 'user', ->\n#         restrict: 'E'\n#         scope:\n#             model: '='      # кол-во\n#         templateUrl: 'directives/user'\n","angular.module 'Egecms'\n    .service 'AceService', ->\n        this.editors = {}\n        this.initEditor = (FormService, minLines = 30, id = 'editor', mode = 'ace/mode/html') ->\n            this.editor = ace.edit(id)\n            this.editor.getSession().setMode(mode)\n            this.editor.getSession().setUseWrapMode(true)\n            this.editor.setOptions\n                minLines: minLines\n                maxLines: Infinity\n            this.editor.commands.addCommand\n                name: 'save',\n                bindKey:\n                    win: 'Ctrl-S'\n                    mac: 'Command-S'\n                exec: (editor) ->\n                    FormService.edit()\n            this.editors[id] = this.editor\n\n        this.getEditor = (id = 'editor') ->\n            this.editors[id]\n\n        this.show = (id = 'editor') ->\n            this.shown_editor = id\n            localStorage.setItem 'shown_editor', id\n\n        this.isShown = (id = 'editor') ->\n            this.show 'editor' if not localStorage.getItem 'shown_editor'\n            id is localStorage.getItem 'shown_editor'\n\n        this\n","angular.module 'Egecms'\n    .service 'IndexService', ($rootScope) ->\n        this.filter = ->\n            $.cookie(this.controller, JSON.stringify(this.search), { expires: 365, path: '/' })\n            this.current_page = 1\n            this.pageChanged()\n\n        this.max_size = 10\n\n        this.init = (Resource, current_page, attrs, params = {}) ->\n            $rootScope.frontend_loading = true\n            this.Resource = Resource\n            this.current_page = parseInt(current_page)\n            this.controller = attrs.ngController.toLowerCase().slice(0, -5)\n            this.search = if $.cookie(this.controller) then JSON.parse($.cookie(this.controller)) else {}\n            this.params = params\n            this.loadPage()\n\n        this.loadPage = ->\n            p = {page: this.current_page}\n            p.sort = this.sort if this.sort isnt undefined\n            p.folder = this.params.folder if this.params.folder\n            $.each @params, (key, val) -> p[key] = val\n            this.Resource.get p, (response) =>\n                this.page = response\n                $rootScope.frontend_loading = false\n\n        this.pageChanged = ->\n            $rootScope.frontend_loading = true\n            this.loadPage()\n            this.changeUrl()\n\n        this.delete = (id, text) ->\n            bootbox.confirm \"Вы уверены, что хотите удалить #{text} ##{id}?\", (result) =>\n                if result is true\n                    @Resource.delete {id: id}, -> location.reload()\n\n        # change browser user / history push\n        this.changeUrl = ->\n            window.history.pushState('', '', this.controller + '?page=' + this.current_page)\n\n        this\n    .service 'FormService', ($rootScope, $q, $timeout) ->\n        this.init = (Resource, id, model) ->\n            this.dataLoaded = $q.defer()\n            $rootScope.frontend_loading = true\n            this.Resource = Resource\n            this.saving = false\n            if id\n                this.model = Resource.get({id: id}, => modelLoaded())\n            else\n                this.model = new Resource(model)\n                modelLoaded()\n\n\n        modelLoaded = =>\n            $rootScope.frontend_loading = false\n            $timeout =>\n                this.dataLoaded.resolve(true)\n                $('.selectpicker').selectpicker 'refresh'\n\n        beforeSave = =>\n            # если нет ошибок, вернуть true и обработать в save/create\n            if this.error_element is undefined\n                ajaxStart()\n                this.beforeSave() if this.beforeSave isnt undefined\n                this.saving = true\n                true\n            else\n                $(this.error_element).focus()\n                notifyError(this.error_text) if this.error_text isnt undefined\n                false\n\n        # вырезаем MODEL из url типа /website/model/create\n        modelName = ->\n            l = window.location.pathname.split('/')\n            model_name = l[l.length - 2]\n            model_name = l[l.length - 3] if $.isNumeric(model_name)\n            model_name\n\n        this.delete = (event, callback = false) ->\n            bootbox.confirm \"Вы уверены, что хотите #{$(event.target).text()} ##{this.model.id}?\", (result) =>\n                if result is true\n                    beforeSave()\n                    this.model.$delete().then =>\n                        if callback #static deletion\n                            callback()\n                            this.saving = false\n                            ajaxEnd()\n                        else\n                            url = @redirect_url || modelName()\n                            url = @prefix + url if @prefix\n                            redirect url\n                    , (response) ->\n                        notifyError response.data.message\n\n        this.edit = (callback = null) ->\n            return if not beforeSave()\n            # preserve tags bugfix\n            tags = this.model.tags if this.model.hasOwnProperty('tags')\n            console.log('tags 1', tags)\n            this.model.$update().then =>\n                callback() if callback isnt null\n                this.saving = false\n                # preserve tags bugfix\n                this.model.tags = tags if tags\n                ajaxEnd()\n            , (response) ->\n                if response.data.hasOwnProperty('message')\n                    notifyError response.data.message\n                else\n                    $.each response.data, (index, value) ->\n                        notifyError value\n                this.saving = false\n                ajaxEnd()\n\n        this.create = ->\n            return if not beforeSave()\n            this.model.$save().then (response) =>\n                url = @redirect_url || modelName() + \"/#{response.id}/edit\"\n                url = @prefix + url if @prefix\n                redirect url\n            , (response) =>\n                notifyError response.data.message\n                this.saving = false\n                ajaxEnd()\n                this.onCreateError(response)\n\n        this\n","angular.module 'Egecms'\n\t.service 'ExportService', ($rootScope, FileUploader) ->\n\t\tbindArguments(this, arguments)\n\t\tthis.init = (options) ->\n\t\t\tthis.controller = options.controller\n\t\t\tthis.FileUploader.FileSelect.prototype.isEmptyAfterSelection = ->\n\t\t\t\ttrue\n\n\t\t\tthis.uploader = new this.FileUploader\n\t\t\t\turl: this.controller + \"/import\"\n\t\t\t\talias: 'imported_file'\n\t\t\t\tautoUpload: true\n\t\t\t\tmethod: 'post'\n\t\t\t\tremoveAfterUpload: true\n\t\t\t\tonCompleteItem: (i, response, status) ->\n\t\t\t\t\tnotifySuccess 'Импортировано' if status is 200\n\t\t\t\t\tnotifyError response.message if status isnt 200\n\t\t\t\tonWhenAddingFileFailed  = (item, filter, options) ->\n\t\t\t\t\tif filter.name is \"queueLimit\"\n\t\t\t\t\t\tthis.clearQueue()\n\t\t\t\t\t\tthis.addToQueue(item)\n\n\t\tthis.import = (e) ->\n\t\t\te.preventDefault()\n\t\t\t$('#import-button').trigger 'click'\n\t\t\treturn\n\n\t\tthis.exportDialog = ->\n\t\t\t$('#export-modal').modal 'show'\n\t\t\treturn false\n\n\t\tthis.export = ->\n\t\t\twindow.location = \"/#{ this.controller }/export?field=#{ this.export_field }\"\n\t\t\t$('#export-modal').modal 'hide'\n\t\t\treturn false\n\t\tthis\n","angular.module 'Egecms'\n    .service 'FactoryService', ($http) ->\n        this.get = (table, select = null, orderBy = null)->\n            $http.post 'api/factory',\n                table: table\n                select: select\n                orderBy: orderBy\n\n        this\n","angular.module 'Egecms'\n    .service 'FolderService', ($http, $timeout, Folder) ->\n        @folders = []\n\n        @breadcrumbs = null\n\n        @itemSortableOptions =\n            cursor: \"move\"\n            opacity: 0.9,\n            zIndex: 9999\n            tolerance: \"pointer\"\n            axis: 'y'\n            update: (event, ui) =>\n                $timeout =>\n                    @IndexService.page.data.forEach (model, index) =>\n                        @Resource.update({id: model.id, position: index})\n\n        @folderSortableOptions =\n            cursor: \"move\"\n            opacity: 0.9,\n            zIndex: 9999\n            tolerance: \"pointer\"\n            axis: 'y'\n            update: (event, ui) =>\n                $timeout =>\n                    @folders.forEach (model, index) ->\n                        Folder.update({id: model.id, position: index})\n\n        config =\n            modalId: '#folder-modal'\n\n        @init = (modelClass, current_folder_id, IndexService, Resource) ->\n            @class = modelClass\n            @current_folder_id = current_folder_id\n            @current_folder = Folder.get({id: current_folder_id})\n            @IndexService = IndexService\n            @Resource = Resource\n            @breadcrumbs = Folder.breadcrumbs({id: current_folder_id}) if current_folder_id\n            if not IndexService then Folder.tree {class: modelClass}, (response) =>\n                @tree = getTree(response)\n\n            @folders = Folder.query\n                class: modelClass\n                current_folder_id: current_folder_id\n                save_visited_folder_id: current_folder_id isnt undefined # сохранять ли посещенную ID папки\n\n            , -> spRefresh()\n            @modal = $(config.modalId)\n\n        # получить все папки с уровнями\n        getTree = (folders, level = 0, parent_name = null) ->\n            items = []\n            folders.forEach (item) =>\n                name = ''\n                name += \"<span class='subfolders'>#{parent_name} / </span>\" if parent_name\n                name += item.name\n                items.push\n                    id: item.id\n                    name: name\n                    level: level\n                items = items.concat(getTree(item.folders, level + 1, name)) if item.folders\n            items\n\n        @createModal = ->\n            @popup_folder = {name: null}\n            @modal.modal('show')\n\n        @createOrUpdate = ->\n            @modal.modal('hide')\n            if @popup_folder.id then @edit() else @create()\n\n        @create = ->\n            Folder.save\n                class: @class\n                name: @popup_folder.name\n                folder_id: @current_folder_id\n            , (response) =>\n                @folders.push(response)\n\n        @editModal = ->\n            # @popup_folder = _.clone(folder)\n            @popup_folder = @current_folder\n            @modal.modal('show')\n\n        @edit = ->\n            Folder.update(@popup_folder)\n            @modal.modal('hide')\n            if @popup_folder.id then @folders.forEach (folder, i) =>\n                @folders[i] = _.clone(@popup_folder) if folder.id == @popup_folder.id\n\n        @delete = (folder) ->\n            bootbox.confirm \"Вы уверены, что хотите удалить папку «#{@current_folder.name}»?\", (result) =>\n                if result is true\n                    Folder.delete {id: @current_folder.id}, -> history.back()\n\n        @isEmpty = (folder) -> not folder.item_count && not folder.folder_count\n\n        @","angular.module 'Egecms'\n    .service 'PhotoService', ($rootScope, $http, $timeout, Photo) ->\n        this.image = ''\n        this.cropped_image = ''\n        this.cripping = false\n        this.aspect_ratio = null\n        this.FormService = null\n        this.methods = {}\n        this.selected_photo_index = null\n\n        this.init = (FormService, type, id) =>\n            @type = type\n            @id = id\n            @FormService = FormService\n            @bindFileUpload(type, id)\n\n        this.crop = ->\n            @cropping = true\n            # именно так\n            $timeout => @methods.updateResultImage => $timeout =>\n                fd = new FormData()\n                blob = dataURItoBlob(@cropped_image)\n                fd.append('cropped_image', blob)\n                fd.append('id', @getSelectedPhoto().id)\n\n                # @methods.getResultImageDataBlob().then (blob) ->\n                console.log('blob', blob)\n\n                # return\n                $http.post 'upload/cropped', fd,\n                    transformRequest: angular.identity\n                    headers: {'Content-Type': undefined}\n                .then (response) =>\n                    @cropping = false\n                    @FormService.model.photos[@selected_photo_index] = response.data\n                    @closeModal()\n                , (error) =>\n                    @cropping = false\n                    notifyError(\"Ошибка при загрузке\")\n\n\n        this.closeModal = -> $('#change-photo').modal('hide')\n\n        this.bindFileUpload = (type, id) ->\n          # загрузка файла договора\n          $('#fileupload').fileupload\n            formData:\n                id: id\n                type: type\n            # maxFileSize: 10000000, # 10 MB\n            # начало загрузки\n            send: ->\n              NProgress.configure({ showSpinner: true })\n            ,\n            # во время загрузки\n            progress: (e, data) ->\n                NProgress.set(data.loaded / data.total)\n            ,\n            # всегда по окончании загрузки (неважно, ошибка или успех)\n            always: ->\n                NProgress.configure({ showSpinner: false })\n                ajaxEnd()\n            ,\n            done: (i, response) =>\n                if response.result.hasOwnProperty('error')\n                    notifyError(response.result.error)\n                    return\n                if @photo_id\n                    @FormService.model.photos[@selected_photo_index] = response.result\n                    @image = @getSelectedPhoto().original_url\n                    delete @photo_id\n                else\n                    @FormService.model.photos.push(response.result)\n                    @edit(@FormService.model.photos.length - 1)\n                # @afterDone() if typeof @afterDone is 'function'\n                $rootScope.$apply()\n\n\n        this.getSelectedPhoto = -> @FormService.model.photos[@selected_photo_index]\n\n        this.loadNew = ->\n            @photo_id = @getSelectedPhoto().id\n            $('#fileupload').bind 'fileuploadsubmit', (e, data) =>\n                data.formData =\n                    id: @id\n                    type: @type\n                    photo_id: @photo_id\n                    count: @FormService.model.count\n            $('#fileupload').click()\n\n        this.edit = (index) ->\n            @selected_photo_index = index\n            @image = @getSelectedPhoto().original_url\n            $('#change-photo').modal('show')\n\n        this.delete = ->\n            Photo.delete({id: @getSelectedPhoto().id})\n            @FormService.model.photos.splice(@selected_photo_index, 1)\n            $('#change-photo').modal('hide')\n\n        this.toggleAscpectRatio = ->\n            console.log('aspect ratio')\n            if @aspect_ratio is null\n                @aspect_ratio = 7 / 4\n            else\n                @aspect_ratio = null\n\n        this\n","angular.module 'Egecms'\n    .service 'UserService', (AllUser, $rootScope, $timeout)->\n        # load all users\n        this.users = AllUser.query()\n\n        # logged user\n        $timeout =>\n            this.current_user = $rootScope.$$childTail.user\n\n        # system user\n        system_user =\n            color: '#999999'\n            login: 'system'\n            id: 0\n\n        this.get = (user_id) ->\n            this.getUser(user_id)\n\n        this.getUser = (user_id) ->\n            _.findWhere(this.users, {id: parseInt(user_id)}) or system_user\n\n        this.getLogin = (user_id) ->\n            this.getUser(parseInt(user_id)).login\n\n        this.getColor = (user_id) ->\n            this.getUser(parseInt(user_id)).color\n\n        this.getWithSystem = (only_active = true) ->\n            users = this.getAll(only_active)\n            users.unshift system_user\n            users\n\n        this.getAll = (only_active = true) ->\n            if only_active\n                _.filter @users, (user) ->\n                    user.rights.length && user.rights.indexOf('35') is -1\n            else\n                this.users\n\n        this.toggle = (entity, user_id, Resource = false) ->\n            new_user_id = if entity[user_id] then 0 else this.current_user.id\n\n            if Resource\n                Resource.update\n                    id: entity.id\n                    \"#{user_id}\": new_user_id\n                , ->\n                    entity[user_id] = new_user_id\n            else\n                entity[user_id] = new_user_id\n\n        this.getBannedUsers = ->\n            _.filter @users, (user) ->\n                user.rights.length and user.rights.indexOf('35') isnt -1\n\n        this.getBannedHaving = (condition_obj) ->\n            _.filter this.users, (user) ->\n                user.rights.indexOf('35') isnt -1 and condition_obj and condition_obj[user.id]\n\n        this.getActiveInAnySystem = (with_system = true) ->\n            users = _.chain(@users).filter (user) ->\n                user.rights.indexOf('35') is -1 or user.rights.indexOf('34') is -1\n            .sortBy('login').value()\n            users.unshift system_user if with_system\n            users\n\n        this.getBannedInBothSystems = ->\n            _.chain(@users).filter (user) ->\n                user.rights.indexOf('35') isnt -1 and user.rights.indexOf('34') isnt -1\n            .sortBy('login').value()\n\n        this\n"]}